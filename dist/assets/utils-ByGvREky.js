const $=t=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t),b=t=>{if(!t)return"-";const r=t.split("T")[0],[c,a,s]=r.split("-");return`${s}/${a}/${c}`},l=t=>{if(!t)return"";const r=t.match(/^(\d{4})-(\d{2})(?:-\d{2})?$/);if(!r)return t;const c=r[1],a=Number(r[2])-1,s=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"];return Number.isNaN(a)||a<0||a>11?t:`${s[a]}/${c}`},M=(t,r,c,a)=>{const s=`${t}-${r}-${c}-${a}`;let n=0;for(let o=0;o<s.length;o++){const e=s.charCodeAt(o);n=(n<<5)-n+e,n=n&n}return Math.abs(n).toString(16)},p=t=>{const r=[],c=/<STMTTRN>([\s\S]*?)<\/STMTTRN>/g;return[...t.matchAll(c)].forEach(s=>{const n=s[1],o=n.match(/<DTPOSTED>(.*)/),e=n.match(/<TRNAMT>(.*)/),i=n.match(/<FITID>(.*)/),u=n.match(/<MEMO>(.*)/);if(e&&o&&i){const m=o[1].trim().substring(0,8),f=`${m.substring(0,4)}-${m.substring(4,6)}-${m.substring(6,8)}`,h=parseFloat(e[1].replace(",",".")),T=i[1].trim(),d=u?u[1].trim():"Sem descrição";r.push({fitid:T,date:f,amount:h,description:d,type:h<0?"DEBIT":"CREDIT",hash:M(f,h,d,T)})}}),r};export{l as a,b,$ as f,p};
