import{u as Ke,r,j as e,C as te,s as L}from"./index-HcuLVkXM.js";import{b as ke,f as c}from"./utils-C6qNh0Lg.js";import{D as Oe}from"./download-CcofxccE.js";import{F as Ye}from"./filter-CRrigRAv.js";import{R as We}from"./refresh-cw-CbS8BK1e.js";import{L as Ue}from"./loader-2-CJ7EHZdi.js";import{R as K,n as se,X as ae,Y as re,T as O,B as oe,p as Xe,q as Ge}from"./generateCategoricalChart-B03fitBM.js";import{B as ne}from"./BarChart-CmfSdQYO.js";import{P as He,a as Qe}from"./PieChart-BNEoZxEj.js";const $e=["#2563eb","#22c55e","#f97316","#a855f7","#0ea5e9","#ef4444","#14b8a6","#f59e0b"],Te=i=>i.toISOString().split("T")[0],Ee=i=>{if(!i)return 0;const p=i.replace(",","."),y=Number(p);return Number.isFinite(y)?y:0},j=i=>{const p=Number(i?.valor_liquido??i?.valor_bruto??i?.valor??0);return Number.isFinite(p)?p:0},Je=({active:i,payload:p,label:y})=>{if(!i||!p?.length)return null;const M=p[0]?.payload;return e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-2 shadow-sm text-xs",children:[e.jsx("div",{className:"font-semibold text-gray-700",children:y}),e.jsxs("div",{className:"text-gray-500",children:["Faturamento: ",c(Number(M?.valor||0))]}),e.jsxs("div",{className:"text-gray-500",children:["Quantidade: ",Number(M?.quantidade||0)]})]})},lt=()=>{const{effectiveClinicId:i}=Ke(),[p,y]=r.useState(!0),[M,ie]=r.useState(null),[v,Y]=r.useState([]),[u,W]=r.useState([]),[E,le]=r.useState([]),[N,de]=r.useState([]),[w,ce]=r.useState(()=>{const t=new Date;return Te(new Date(t.getFullYear(),t.getMonth(),1))}),[S,xe]=r.useState(()=>{const t=new Date;return Te(new Date(t.getFullYear(),t.getMonth()+1,0))}),[R,me]=r.useState(""),[f,ue]=r.useState(""),[g,U]=r.useState(""),[h,X]=r.useState(""),[F,ge]=r.useState(""),[A,he]=r.useState(""),[q,pe]=r.useState(""),[G,fe]=r.useState(""),[H,ye]=r.useState(!1),[x,Re]=r.useState(10),[be,Fe]=r.useState(""),[z,je]=r.useState("attendance"),D=r.useMemo(()=>typeof window>"u"?"":window.location.origin.replace(/\/$/,""),[]);r.useEffect(()=>{(async()=>{if(!i){le([]),de([]);return}const[{data:s},{data:a}]=await Promise.all([L.from("categories").select("id, name, tipo").eq("clinic_id",i).eq("tipo","receita").order("name",{ascending:!0}),L.from("professionals").select("id, nome, tipo").eq("clinic_id",i).order("nome",{ascending:!0})]);le(s||[]),de(a||[])})()},[i]),r.useEffect(()=>{const t=async a=>{if(!a.length||!i)return[];const o=500,n=[];for(let l=0;l<a.length;l+=o)n.push(a.slice(l,l+o));const d=[];for(const l of n){const{data:b}=await L.from("revenue_procedures").select("revenue_id, procedimento, categoria, quantidade, valor_cobrado").eq("clinic_id",i).in("revenue_id",l);b?.length&&d.push(...b)}return d};(async()=>{if(!i){Y([]),W([]),y(!1);return}y(!0),ie(null);try{let a=L.from("revenues").select("id, data_competencia, category_id, valor, valor_bruto, valor_liquido, status, forma_pagamento, sale_professional_id, exec_professional_id, paciente, description").eq("clinic_id",i).order("data_competencia",{ascending:!0});w&&(a=a.gte("data_competencia",w)),S&&(a=a.lte("data_competencia",S));const{data:o,error:n}=await a;if(n)throw n;const d=o||[];Y(d);const l=d.map(ee=>ee.id).filter(Boolean),b=await t(l);W(b)}catch(a){console.error(a),ie("Não foi possível carregar os dados do relatório."),Y([]),W([])}finally{y(!1)}})()},[i,w,S]);const Q=r.useMemo(()=>{const t=new Map;return E.forEach(s=>t.set(s.id,s.name)),t},[E]),C=r.useMemo(()=>{const t=new Map;return N.forEach(s=>t.set(s.id,s.nome)),t},[N]),_=r.useMemo(()=>{const t=new Map;return u.forEach(s=>{s.revenue_id&&(t.has(s.revenue_id)||t.set(s.revenue_id,[]),t.get(s.revenue_id)?.push(s))}),t},[u]),J=r.useMemo(()=>{const t=new Map;return _.forEach((s,a)=>{const o=s.find(n=>n.categoria);o?.categoria&&t.set(a,o.categoria)}),t},[_]),Ae=r.useMemo(()=>{const t=new Set;return u.forEach(s=>{s.procedimento&&t.add(s.procedimento)}),Array.from(t).sort((s,a)=>s.localeCompare(a))},[u]),qe=r.useMemo(()=>{const t=new Set;return E.forEach(s=>t.add(s.name)),u.forEach(s=>{s.categoria&&t.add(s.categoria)}),Array.from(t).sort((s,a)=>s.localeCompare(a))},[E,u]),ze=r.useMemo(()=>{const t=new Set;return v.forEach(s=>{s.forma_pagamento&&t.add(s.forma_pagamento)}),Array.from(t).sort((s,a)=>s.localeCompare(a))},[v]),k=t=>{const s=t.category_id?Q.get(t.category_id):void 0;if(s)return s;const a=J.get(t.id);return a||"Sem categoria"},ve=r.useMemo(()=>{const t=new Set;return _.forEach((s,a)=>{s.length&&t.add(a)}),t},[_]),Ne=r.useMemo(()=>{if(!f)return new Set;const t=new Set;return _.forEach((s,a)=>{s.some(o=>o.procedimento===f)&&t.add(a)}),t},[_,f]),m=r.useMemo(()=>{const t=Ee(q),s=G.trim().toLowerCase();return v.filter(a=>!(R&&k(a)!==R||f&&!Ne.has(a.id)||g&&a.sale_professional_id!==g||h&&a.exec_professional_id!==h||F&&a.status!==F||A&&a.forma_pagamento!==A||q&&j(a)<t||H&&!ve.has(a.id)||s&&!`${a.paciente||""} ${a.description||""}`.toLowerCase().includes(s)))},[v,R,f,g,h,F,A,q,H,G,ve,Ne,Q,J]),we=r.useMemo(()=>new Set(m.map(t=>t.id)),[m]),I=r.useMemo(()=>u.filter(t=>!(!we.has(t.revenue_id)||f&&t.procedimento!==f)),[u,we,f]),$=r.useMemo(()=>v.filter(t=>!(g&&t.sale_professional_id!==g||h&&t.exec_professional_id!==h)),[v,g,h]),Se=r.useMemo(()=>new Set($.map(t=>t.id)),[$]),Ce=r.useMemo(()=>u.filter(t=>Se.has(t.revenue_id)),[u,Se]),T=Ee(be),P=r.useMemo(()=>{const t=[],s=new Map;$.forEach(o=>s.set(o.id,o));const a=new Set;return Ce.forEach(o=>{const n=s.get(o.revenue_id);if(!n)return;a.add(n.id);const d=Number(o.quantidade||0)||1,l=Number(o.valor_cobrado||0),b=l>0?l*d:j(n),ee=o.categoria||k(n),Ve=n.paciente||n.description||"Sem nome",Le=b*(T/100);t.push({client:Ve,date:n.data_competencia||"",procedure:o.procedimento||"Atendimento",category:ee,value:b,commission:Le})}),$.forEach(o=>{if(a.has(o.id))return;const n=j(o),d=n*(T/100);t.push({client:o.paciente||o.description||"Sem nome",date:o.data_competencia||"",procedure:o.description||"Atendimento",category:k(o),value:n,commission:d})}),t.sort((o,n)=>o.date>n.date?-1:o.date<n.date?1:0)},[$,Ce,T,k]),B=r.useMemo(()=>P.reduce((t,s)=>(t.value+=s.value,t.commission+=s.commission,t),{value:0,commission:0}),[P]),V=r.useMemo(()=>{const t=m.reduce((n,d)=>n+j(d),0),s=m.length,a=s?t/s:0,o=I.reduce((n,d)=>n+Number(d.quantidade||0),0);return{totalFaturamento:t,atendimentos:s,ticket:a,procedimentosCount:o}},[m,I]),_e=r.useMemo(()=>{const t=new Map;return I.forEach(s=>{const a=s.procedimento||"Sem procedimento";t.has(a)||t.set(a,{name:a,quantidade:0,valor:0});const o=t.get(a),n=Number(s.quantidade||0),d=Number(s.valor_cobrado||0);o.quantidade+=n,o.valor+=n*d}),Array.from(t.values()).sort((s,a)=>a.valor-s.valor).slice(0,x)},[I,x]),Z=r.useMemo(()=>{const t=new Map;return m.forEach(s=>{const a=k(s),o=j(s);t.set(a,(t.get(a)||0)+o)}),Array.from(t.entries()).map(([s,a])=>({name:s,value:a})).sort((s,a)=>a.value-s.value).slice(0,x)},[m,x,Q,J]),Pe=r.useMemo(()=>{const t=new Map;return m.forEach(s=>{const a=s.sale_professional_id?C.get(s.sale_professional_id)||"Profissional não encontrado":"Sem profissional";t.set(a,(t.get(a)||0)+j(s))}),Array.from(t.entries()).map(([s,a])=>({name:s,value:a})).sort((s,a)=>a.value-s.value).slice(0,x)},[m,x,C]),Me=r.useMemo(()=>{const t=new Map;return m.forEach(s=>{const a=s.exec_professional_id?C.get(s.exec_professional_id)||"Profissional não encontrado":"Sem profissional";t.set(a,(t.get(a)||0)+j(s))}),Array.from(t.entries()).map(([s,a])=>({name:s,value:a})).sort((s,a)=>a.value-s.value).slice(0,x)},[m,x,C]),De=()=>{me(""),ue(""),U(""),X(""),ge(""),he(""),pe(""),fe(""),ye(!1)},Ie=()=>{const t=window.open("","_blank");if(!t)return;const s=P.map(l=>`
          <tr>
            <td>${l.client}</td>
            <td>${l.date?ke(l.date):"-"}</td>
            <td>${l.procedure}</td>
            <td>${l.category}</td>
            <td style="text-align:right;">${c(l.value)}</td>
            <td style="text-align:right;">${c(l.commission)}</td>
          </tr>`).join(""),a=g?C.get(g)||"Selecionado":"Todos",o=h?C.get(h)||"Selecionado":"Todos",n=D?`${D}/logo-onefinc.png`:"",d=D?`${D}/onefinc_azul.png`:"";t.document.write(`
      <html>
        <head>
          <title>Relatório de Produção Médica</title>
          <style>
            body { font-family: Arial, sans-serif; color: #111827; }
            .header { display:flex; align-items:center; justify-content:space-between; margin-bottom: 16px; }
            .logos { display:flex; gap:12px; align-items:center; }
            .logos img { height: 36px; }
            h2 { margin: 0 0 4px; }
            .meta { font-size: 12px; color: #6b7280; }
            table { border-collapse: collapse; width: 100%; margin-top: 16px; }
            th, td { border: 1px solid #e5e7eb; padding: 8px; font-size: 12px; }
            th { background: #f3f4f6; text-align: left; }
            tfoot td { font-weight: bold; background: #f9fafb; }
          </style>
        </head>
        <body>
          <div class="header">
            <div>
              <h2>Relatório de Produção Médica</h2>
              <div class="meta">Período: ${w||"-"} até ${S||"-"}</div>
              <div class="meta">Profissional de venda: ${a}</div>
              <div class="meta">Profissional de execução: ${o}</div>
              <div class="meta">Comissão: ${T?`${T}%`:"0%"}</div>
            </div>
            <div class="logos">
              ${n?`<img src="${n}" alt="OneFinc" />`:""}
              ${d?`<img src="${d}" alt="OneFinc" />`:""}
            </div>
          </div>
          <table>
            <thead>
              <tr>
                <th>Nome Cliente</th>
                <th>Data</th>
                <th>Procedimento</th>
                <th>Categoria</th>
                <th>Valor</th>
                <th>Valor comissão</th>
              </tr>
            </thead>
            <tbody>
              ${s}
            </tbody>
            <tfoot>
              <tr>
                <td colspan="4">Total</td>
                <td style="text-align:right;">${c(B.value)}</td>
                <td style="text-align:right;">${c(B.commission)}</td>
              </tr>
            </tfoot>
          </table>
        </body>
      </html>
    `),t.document.close(),t.print()},Be=e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-5 shadow-sm space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Relatório de produção médica"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Resumo detalhado dos atendimentos realizados."})]}),e.jsxs("button",{type:"button",onClick:Ie,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-gray-200 text-gray-600 hover:bg-gray-50",children:[e.jsx(Oe,{size:16}),"Baixar PDF"]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(te,{size:16,className:"text-gray-400"}),e.jsx("input",{type:"date",value:w,onChange:t=>ce(t.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm"}),e.jsx("span",{className:"text-xs text-gray-400",children:"até"}),e.jsx("input",{type:"date",value:S,onChange:t=>xe(t.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm"})]}),e.jsxs("select",{value:g,onChange:t=>U(t.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm bg-white",children:[e.jsx("option",{value:"",children:"Profissional de venda"}),N.map(t=>e.jsx("option",{value:t.id,children:t.nome},t.id))]}),e.jsxs("select",{value:h,onChange:t=>X(t.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm bg-white",children:[e.jsx("option",{value:"",children:"Profissional de execução"}),N.map(t=>e.jsx("option",{value:t.id,children:t.nome},t.id))]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-xs text-gray-400",children:"Comissão (%)"}),e.jsx("input",{value:be,onChange:t=>Fe(t.target.value),placeholder:"Ex: 10",className:"px-3 py-2 border border-gray-200 rounded-lg text-sm w-28"})]})]}),e.jsx("div",{className:"border border-gray-100 rounded-xl overflow-auto",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50 text-gray-500",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left px-4 py-3",children:"Nome Cliente"}),e.jsx("th",{className:"text-left px-4 py-3",children:"Data"}),e.jsx("th",{className:"text-left px-4 py-3",children:"Procedimento"}),e.jsx("th",{className:"text-left px-4 py-3",children:"Categoria"}),e.jsx("th",{className:"text-right px-4 py-3",children:"Valor"}),e.jsx("th",{className:"text-right px-4 py-3",children:"Valor comissão"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[P.map((t,s)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-gray-800",children:t.client}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:t.date?ke(t.date):"-"}),e.jsx("td",{className:"px-4 py-3 text-gray-700",children:t.procedure}),e.jsx("td",{className:"px-4 py-3 text-gray-500",children:t.category}),e.jsx("td",{className:"px-4 py-3 text-right text-gray-700",children:c(t.value)}),e.jsx("td",{className:"px-4 py-3 text-right text-gray-700",children:c(t.commission)})]},`${t.client}-${t.date}-${t.procedure}-${s}`)),P.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-gray-400",children:"Nenhum atendimento encontrado para os filtros selecionados."})})]}),P.length>0&&e.jsx("tfoot",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("td",{colSpan:4,className:"px-4 py-3 font-semibold text-gray-700",children:"Total"}),e.jsx("td",{className:"px-4 py-3 text-right font-semibold text-gray-800",children:c(B.value)}),e.jsx("td",{className:"px-4 py-3 text-right font-semibold text-gray-800",children:c(B.commission)})]})})]})})]});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"flex flex-wrap items-center justify-between gap-4",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Relatório de Atendimento"}),e.jsx("p",{className:"text-gray-500",children:"Financeiro • Relatório de Atendimento"})]})}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("button",{type:"button",onClick:()=>je("attendance"),className:`px-4 py-2 rounded-lg text-sm border transition ${z==="attendance"?"bg-brand-600 text-white border-brand-600 shadow-sm":"bg-white text-gray-700 border-gray-200 hover:bg-gray-50"}`,children:"Relatório de Atendimento"}),e.jsx("button",{type:"button",onClick:()=>je("production"),className:`px-4 py-2 rounded-lg text-sm border transition ${z==="production"?"bg-brand-600 text-white border-brand-600 shadow-sm":"bg-white text-gray-700 border-gray-200 hover:bg-gray-50"}`,children:"Produção médica"})]})]}),z==="attendance"&&e.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl shadow-sm p-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm text-gray-500 mb-3",children:[e.jsx(Ye,{size:16}),e.jsx("span",{children:"Filtros"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-3",children:[e.jsxs("label",{className:"text-sm text-gray-600 flex flex-col gap-1",children:[e.jsxs("span",{className:"text-xs text-gray-400 flex items-center gap-2",children:[e.jsx(te,{size:14})," De"]}),e.jsx("input",{type:"date",value:w,onChange:t=>ce(t.target.value),className:"border border-gray-200 rounded-lg px-3 py-2"})]}),e.jsxs("label",{className:"text-sm text-gray-600 flex flex-col gap-1",children:[e.jsxs("span",{className:"text-xs text-gray-400 flex items-center gap-2",children:[e.jsx(te,{size:14})," Até"]}),e.jsx("input",{type:"date",value:S,onChange:t=>xe(t.target.value),className:"border border-gray-200 rounded-lg px-3 py-2"})]}),e.jsxs("label",{className:"text-sm text-gray-600 flex flex-col gap-1",children:[e.jsx("span",{className:"text-xs text-gray-400",children:"Categoria"}),e.jsxs("select",{value:R,onChange:t=>me(t.target.value),className:"border border-gray-200 rounded-lg px-3 py-2 bg-white",children:[e.jsx("option",{value:"",children:"Todas"}),qe.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("label",{className:"text-sm text-gray-600 flex flex-col gap-1",children:[e.jsx("span",{className:"text-xs text-gray-400",children:"Procedimento"}),e.jsxs("select",{value:f,onChange:t=>ue(t.target.value),className:"border border-gray-200 rounded-lg px-3 py-2 bg-white",children:[e.jsx("option",{value:"",children:"Todos"}),Ae.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("label",{className:"text-sm text-gray-600 flex flex-col gap-1",children:[e.jsx("span",{className:"text-xs text-gray-400",children:"Profissional de venda"}),e.jsxs("select",{value:g,onChange:t=>U(t.target.value),className:"border border-gray-200 rounded-lg px-3 py-2 bg-white",children:[e.jsx("option",{value:"",children:"Todos"}),N.map(t=>e.jsx("option",{value:t.id,children:t.nome},t.id))]})]}),e.jsxs("label",{className:"text-sm text-gray-600 flex flex-col gap-1",children:[e.jsx("span",{className:"text-xs text-gray-400",children:"Profissional de execução"}),e.jsxs("select",{value:h,onChange:t=>X(t.target.value),className:"border border-gray-200 rounded-lg px-3 py-2 bg-white",children:[e.jsx("option",{value:"",children:"Todos"}),N.map(t=>e.jsx("option",{value:t.id,children:t.nome},t.id))]})]}),e.jsxs("label",{className:"text-sm text-gray-600 flex flex-col gap-1",children:[e.jsx("span",{className:"text-xs text-gray-400",children:"Status"}),e.jsxs("select",{value:F,onChange:t=>ge(t.target.value),className:"border border-gray-200 rounded-lg px-3 py-2 bg-white",children:[e.jsx("option",{value:"",children:"Todos"}),e.jsx("option",{value:"paid",children:"Pago"}),e.jsx("option",{value:"pending",children:"Pendente"})]})]}),e.jsxs("label",{className:"text-sm text-gray-600 flex flex-col gap-1",children:[e.jsx("span",{className:"text-xs text-gray-400",children:"Forma de pagamento"}),e.jsxs("select",{value:A,onChange:t=>he(t.target.value),className:"border border-gray-200 rounded-lg px-3 py-2 bg-white",children:[e.jsx("option",{value:"",children:"Todas"}),ze.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("label",{className:"text-sm text-gray-600 flex flex-col gap-1",children:[e.jsx("span",{className:"text-xs text-gray-400",children:"Valor mínimo"}),e.jsx("input",{type:"text",value:q,onChange:t=>pe(t.target.value),placeholder:"Ex: 200",className:"border border-gray-200 rounded-lg px-3 py-2"})]}),e.jsxs("label",{className:"text-sm text-gray-600 flex flex-col gap-1",children:[e.jsx("span",{className:"text-xs text-gray-400",children:"Buscar (paciente ou descrição)"}),e.jsx("input",{type:"text",value:G,onChange:t=>fe(t.target.value),placeholder:"Buscar...",className:"border border-gray-200 rounded-lg px-3 py-2"})]}),e.jsxs("label",{className:"text-sm text-gray-600 flex flex-col gap-1",children:[e.jsx("span",{className:"text-xs text-gray-400",children:"Top N"}),e.jsxs("select",{value:x,onChange:t=>Re(Number(t.target.value)),className:"border border-gray-200 rounded-lg px-3 py-2 bg-white",children:[e.jsx("option",{value:5,children:"Top 5"}),e.jsx("option",{value:10,children:"Top 10"}),e.jsx("option",{value:15,children:"Top 15"}),e.jsx("option",{value:20,children:"Top 20"})]})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-4",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx("input",{type:"checkbox",checked:H,onChange:t=>ye(t.target.checked)}),"Somente com procedimentos"]}),e.jsxs("button",{type:"button",onClick:De,className:"inline-flex items-center gap-2 text-sm text-gray-600 border border-gray-200 px-3 py-2 rounded-lg hover:bg-gray-50",children:[e.jsx(We,{size:14}),"Limpar filtros"]})]})]}),M&&e.jsx("div",{className:"bg-red-50 border border-red-100 text-red-600 rounded-lg px-4 py-3 text-sm",children:M}),p?e.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[e.jsx(Ue,{size:18,className:"animate-spin"}),"Carregando relatório..."]}):z==="attendance"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-4 shadow-sm",children:[e.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Faturamento"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-800 mt-1",children:c(V.totalFaturamento)})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-4 shadow-sm",children:[e.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Atendimentos"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-800 mt-1",children:V.atendimentos})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-4 shadow-sm",children:[e.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Ticket médio"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-800 mt-1",children:c(V.ticket)})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-4 shadow-sm",children:[e.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Procedimentos"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-800 mt-1",children:V.procedimentosCount})]})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-4 shadow-sm",children:[e.jsxs("h3",{className:"text-base font-semibold text-gray-800 mb-3",children:["Procedimentos (Top ",x,")"]}),_e.length===0?e.jsx("div",{className:"text-sm text-gray-400",children:"Sem dados para exibir."}):e.jsx("div",{className:"h-72",children:e.jsx(K,{width:"100%",height:"100%",children:e.jsxs(ne,{data:_e,margin:{top:8,right:16,left:0,bottom:8},children:[e.jsx(se,{strokeDasharray:"3 3"}),e.jsx(ae,{dataKey:"name",tick:{fontSize:11},interval:0,angle:-15,textAnchor:"end",height:60}),e.jsx(re,{tick:{fontSize:11}}),e.jsx(O,{content:e.jsx(Je,{})}),e.jsx(oe,{dataKey:"valor",name:"Valor",fill:"#2563eb",radius:[6,6,0,0]})]})})})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-4 shadow-sm",children:[e.jsxs("h3",{className:"text-base font-semibold text-gray-800 mb-3",children:["Categoria (Top ",x,")"]}),Z.length===0?e.jsx("div",{className:"text-sm text-gray-400",children:"Sem dados para exibir."}):e.jsx("div",{className:"h-72",children:e.jsx(K,{width:"100%",height:"100%",children:e.jsxs(He,{children:[e.jsx(Qe,{data:Z,dataKey:"value",nameKey:"name",innerRadius:55,outerRadius:90,paddingAngle:4,children:Z.map((t,s)=>e.jsx(Xe,{fill:$e[s%$e.length]},`cell-${t.name}`))}),e.jsx(O,{formatter:t=>c(Number(t))}),e.jsx(Ge,{verticalAlign:"bottom",height:36})]})})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-4 shadow-sm",children:[e.jsx("h3",{className:"text-base font-semibold text-gray-800 mb-3",children:"Faturamento por profissional de venda"}),Pe.length===0?e.jsx("div",{className:"text-sm text-gray-400",children:"Sem dados para exibir."}):e.jsx("div",{className:"h-72",children:e.jsx(K,{width:"100%",height:"100%",children:e.jsxs(ne,{data:Pe,margin:{top:8,right:16,left:0,bottom:8},children:[e.jsx(se,{strokeDasharray:"3 3"}),e.jsx(ae,{dataKey:"name",tick:{fontSize:11},interval:0,angle:-15,textAnchor:"end",height:60}),e.jsx(re,{tick:{fontSize:11}}),e.jsx(O,{formatter:t=>c(Number(t))}),e.jsx(oe,{dataKey:"value",name:"Faturamento",fill:"#22c55e",radius:[6,6,0,0]})]})})})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-4 shadow-sm",children:[e.jsx("h3",{className:"text-base font-semibold text-gray-800 mb-3",children:"Faturamento por profissional de execução"}),Me.length===0?e.jsx("div",{className:"text-sm text-gray-400",children:"Sem dados para exibir."}):e.jsx("div",{className:"h-72",children:e.jsx(K,{width:"100%",height:"100%",children:e.jsxs(ne,{data:Me,margin:{top:8,right:16,left:0,bottom:8},children:[e.jsx(se,{strokeDasharray:"3 3"}),e.jsx(ae,{dataKey:"name",tick:{fontSize:11},interval:0,angle:-15,textAnchor:"end",height:60}),e.jsx(re,{tick:{fontSize:11}}),e.jsx(O,{formatter:t=>c(Number(t))}),e.jsx(oe,{dataKey:"value",name:"Faturamento",fill:"#0ea5e9",radius:[6,6,0,0]})]})})})]})]})]}):Be]})};export{lt as default};
