import{r}from"./index-HcuLVkXM.js";const w=({isOpen:e,onClose:n,closeOnEsc:u=!0,closeOnBackdrop:s=!0,lockScroll:l=!0})=>{const a=r.useRef(n);return r.useEffect(()=>{a.current=n},[n]),r.useEffect(()=>{if(!e||!u)return;const t=o=>{o.key==="Escape"&&a.current()};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[e,u]),r.useEffect(()=>{if(!e||!l)return;const{body:t,documentElement:o}=document,i=Number(t.dataset.modalOpenCount||"0"),f=i+1;if(t.dataset.modalOpenCount=String(f),i===0){t.dataset.modalPrevOverflow=t.style.overflow||"",t.dataset.modalPrevPadding=t.style.paddingRight||"";const d=window.innerWidth-o.clientWidth;t.style.overflow="hidden",d>0&&(t.style.paddingRight=`${d}px`)}return()=>{const d=Number(t.dataset.modalOpenCount||"1"),c=Math.max(0,d-1);c===0?(t.style.overflow=t.dataset.modalPrevOverflow||"",t.style.paddingRight=t.dataset.modalPrevPadding||"",delete t.dataset.modalPrevOverflow,delete t.dataset.modalPrevPadding,delete t.dataset.modalOpenCount):t.dataset.modalOpenCount=String(c)}},[e,l]),{onBackdropClick:r.useCallback(t=>{!s||!e||t.target===t.currentTarget&&a.current()},[s,e])}};export{w as u};
